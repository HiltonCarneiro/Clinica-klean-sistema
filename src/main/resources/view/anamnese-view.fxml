<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="br.com.clinica.controller.AnamneseController">

    <top>
        <VBox spacing="6">
            <padding>
                <Insets top="10" right="10" bottom="10" left="10"/>
            </padding>

            <Label fx:id="lblPaciente" text="Paciente:"/>
            <Label fx:id="lblProfissional" text="Profissional:"/>
            <Label fx:id="lblAgendamento" text="Agendamento:"/>
            <Label fx:id="lblInfo" text=""/>

            <Separator/>

            <HBox spacing="10">
                <Label text="Tipo:"/>
                <ComboBox fx:id="cbTipo"/>
                <Button fx:id="btnNovaEvolucao" text="Nova evolução" onAction="#onNovaEvolucao"/>
                <Button fx:id="btnSalvarInicial" text="Salvar anamnese inicial" onAction="#onSalvarInicial"/>
                <Button fx:id="btnSalvarEvolucao" text="Salvar evolução" onAction="#onSalvarEvolucao"/>
            </HBox>
        </VBox>
    </top>

    <center>
        <TabPane tabClosingPolicy="UNAVAILABLE">
            <tabs>

                <Tab text="Principal">
                    <VBox spacing="8">
                        <padding>
                            <Insets top="10" right="10" bottom="10" left="10"/>
                        </padding>

                        <Label text="Queixa principal"/>
                        <TextArea fx:id="taQueixa"/>

                        <Label text="Evolução"/>
                        <TextArea fx:id="taEvolucao"/>

                        <Label text="Observações"/>
                        <TextArea fx:id="taObservacoes"/>
                    </VBox>
                </Tab>

                <Tab text="Sinais Vitais">
                    <GridPane hgap="10" vgap="10">
                        <padding>
                            <Insets top="10" right="10" bottom="10" left="10"/>
                        </padding>

                        <Label text="PA:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                        <TextField fx:id="tfPA" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                        <Label text="FC:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                        <TextField fx:id="tfFC" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                        <Label text="FR:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                        <TextField fx:id="tfFR" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                        <Label text="Temperatura:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                        <TextField fx:id="tfTemp" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                        <Label text="Peso:" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
                        <TextField fx:id="tfPeso" GridPane.rowIndex="4" GridPane.columnIndex="1"/>

                        <Label text="Altura:" GridPane.rowIndex="5" GridPane.columnIndex="0"/>
                        <TextField fx:id="tfAltura" GridPane.rowIndex="5" GridPane.columnIndex="1"/>

                        <Label text="SpO2:" GridPane.rowIndex="6" GridPane.columnIndex="0"/>
                        <TextField fx:id="tfSpO2" GridPane.rowIndex="6" GridPane.columnIndex="1"/>
                    </GridPane>
                </Tab>

                <Tab text="Histórico Clínico">
                    <VBox spacing="10">
                        <padding>
                            <Insets top="10" right="10" bottom="10" left="10"/>
                        </padding>

                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="Antecedentes (marque o que se aplica)"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <CheckBox fx:id="chkNegaAntecedentes" text="Nega antecedentes"/>
                        </HBox>

                        <FlowPane hgap="12" vgap="8" prefWrapLength="700">
                            <CheckBox fx:id="chkHipertensao" text="Hipertensão"/>
                            <CheckBox fx:id="chkDiabetes" text="Diabetes"/>
                            <CheckBox fx:id="chkDislipidemia" text="Dislipidemia"/>
                            <CheckBox fx:id="chkAsma" text="Asma"/>
                            <CheckBox fx:id="chkCardiopatia" text="Cardiopatia"/>
                            <CheckBox fx:id="chkDoencaRenal" text="Doença renal"/>
                            <CheckBox fx:id="chkDoencaHepatica" text="Doença hepática"/>
                            <CheckBox fx:id="chkAutoimune" text="Autoimune"/>
                            <CheckBox fx:id="chkCancer" text="Câncer"/>
                            <CheckBox fx:id="chkAnsiedadeDepressao" text="Ansiedade/Depressão"/>
                        </FlowPane>

                        <Label text="Outros / detalhes (opcional)"/>
                        <TextArea fx:id="taAntecedentes" prefRowCount="4"/>

                        <Separator/>

                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="Medicações"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <CheckBox fx:id="chkSemMedicacoes" text="Não faz uso"/>
                        </HBox>
                        <TextArea fx:id="taMedicacoes" prefRowCount="4"/>

                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="Alergias"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <CheckBox fx:id="chkNegaAlergias" text="Nega alergias"/>
                        </HBox>
                        <TextArea fx:id="taAlergias" prefRowCount="4"/>

                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="Cirurgias"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <CheckBox fx:id="chkNegaCirurgias" text="Nega cirurgias"/>
                        </HBox>
                        <TextArea fx:id="taCirurgias" prefRowCount="4"/>
                    </VBox>
                </Tab>

                <Tab text="Hábitos">
                    <VBox spacing="8">
                        <padding>
                            <Insets top="10" right="10" bottom="10" left="10"/>
                        </padding>

                        <HBox spacing="10">
                            <Label text="Tabagismo:"/>
                            <ComboBox fx:id="cbTabagismo"/>
                        </HBox>

                        <HBox spacing="10">
                            <Label text="Álcool:"/>
                            <ComboBox fx:id="cbAlcool"/>
                        </HBox>

                        <Label text="Sono"/>
                        <TextArea fx:id="taSono"/>

                        <Label text="Atividade Física"/>
                        <TextArea fx:id="taAtividadeFisica"/>

                        <Label text="Alimentação"/>
                        <TextArea fx:id="taAlimentacao"/>
                    </VBox>
                </Tab>

                <Tab text="Exame Físico">
                    <VBox spacing="8">
                        <padding>
                            <Insets top="10" right="10" bottom="10" left="10"/>
                        </padding>

                        <Label text="Exame geral"/>
                        <TextArea fx:id="taExameGeral"/>

                        <Label text="Exame segmentar"/>
                        <TextArea fx:id="taExameSegmentar"/>
                    </VBox>
                </Tab>

                <Tab text="Histórico de Registros">
                    <VBox spacing="8">
                        <padding>
                            <Insets top="10" right="10" bottom="10" left="10"/>
                        </padding>

                        <TableView fx:id="tvHistorico" prefHeight="350">
                            <columns>
                                <TableColumn fx:id="colData" text="Data/Hora" prefWidth="220"/>
                                <TableColumn fx:id="colTipo" text="Tipo" prefWidth="220"/>
                            </columns>
                        </TableView>
                    </VBox>
                </Tab>

                <Tab text="Anexos">
                    <VBox spacing="8">
                        <padding>
                            <Insets top="10" right="10" bottom="10" left="10"/>
                        </padding>

                        <HBox spacing="10">
                            <Label text="Descrição:"/>
                            <TextField fx:id="tfDescricaoAnexo" HBox.hgrow="ALWAYS"/>
                            <Button fx:id="btnAnexarPdf" text="Anexar PDF" onAction="#onAnexarPdf"/>
                            <Button fx:id="btnAbrirPdf" text="Abrir" onAction="#onAbrirPdf"/>
                            <Button fx:id="btnRemoverPdf" text="Remover" onAction="#onRemoverPdf"/>
                        </HBox>

                        <TableView fx:id="tvAnexos" prefHeight="320">
                            <columns>
                                <TableColumn fx:id="colAnexoData" text="Data/Hora" prefWidth="190"/>
                                <TableColumn fx:id="colAnexoArquivo" text="Arquivo" prefWidth="240"/>
                                <TableColumn fx:id="colAnexoDescricao" text="Descrição" prefWidth="280"/>
                            </columns>
                        </TableView>
                    </VBox>
                </Tab>

            </tabs>
        </TabPane>
    </center>

</BorderPane>